{% extends 'shared/base.html' %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100" style="min-height: 100vh; padding-top: 10%; padding-bottom: 30%;">
    <div class="card shadow-sm p-4" style="width: 100%; max-width: 600px; background-color: #4A4063; color: white;">
        <h3 class="text-center mb-4">Registro</h3>
        <form method="POST" action="{% if form.instance.pk %}{% url 'editPersonal' rut=form.instance.rut_empleado %}{% else %}{% url 'register' %}{% endif %}">
            {% csrf_token %}
            {% if error.register_error %}
                <span class="text-danger">{{ error.register_error }}</span>
            {% endif %}

            <!-- Rut y TelÃ©fono en la misma fila -->
            <div class="row mb-3">
                <div class="col-md-6">
                    {{ form.rut_empleado.label_tag }}
                    {{ form.rut_empleado }}
                </div>
                <div class="col-md-6">
                    {{ form.telefono.label_tag }}
                    {{ form.telefono }}
                </div>
            </div>

            <!-- Nombre y Apellido en la misma fila -->
            <div class="row mb-3">
                <div class="col-md-6">
                    {{ form.nombre.label_tag }}
                    {{ form.nombre }}
                </div>
                <div class="col-md-6">
                    {{ form.apellido.label_tag }}
                    {{ form.apellido }}
                </div>
            </div>

            <!-- Username y Correo en la misma fila -->
            <div class="row mb-3">
                <div class="col-md-6">
                    {{ form.username.label_tag }}
                    {{ form.username }}
                </div>
                <div class="col-md-6">
                    {{ form.correo.label_tag }}
                    {{ form.correo }}
                </div>
            </div>

            <!-- Password y Jefatura en la misma fila -->
            <div class="row mb-3">
                <div class="col-md-6">
                    {{ form.password.label_tag }}
                    {{ form.password }}
                </div>
                <div class="col-md-6">
                    {{ form.jefatura.label_tag }}
                    {{ form.jefatura }}
                </div>
            </div>

            <!-- Rol en una fila completa -->
            <div class="mb-3">
                {{ form.rol.label_tag }}
                {{ form.rol }}
            </div>

            <!-- Botones -->
            <button type="submit" class="btn btn-custom w-100">{% if form.instance.pk %}Actualizar{% else %}Registrar{% endif %}</button>
            <div class="d-flex justify-content-between mt-3">
                <a href="{% url 'personal' %}" class="btn btn-custom w-100">Volver</a>
            </div>
        </form>
    </div>
</div>

{% endblock %}
